%v1
\documentclass{amsart}
\usepackage{amssymb, amsmath, amsfonts, amsthm, graphics, enumerate, mathrsfs, mathtools,tikz-cd,soul,csquotes}
\usetikzlibrary{positioning,arrows,scopes}
%\usepackage{fancyhdr}
%\usepackage{geometry}
%\pagestyle{fancy}

% COMMENT OUT FOR FINAL VERSION
\usepackage{showkeys}

\newtheorem{thm}{Theorem}
\newtheorem*{thm*}{Theorem}
\newtheorem{obs}[thm]{Observation}
\newtheorem{prop}[thm]{Proposition}
\newtheorem{lem}[thm]{Lemma}
\newtheorem{cor}[thm]{Corollary}

\theoremstyle{definition}
\newtheorem{prob}[thm]{Problem}
\newtheorem{dfn}[thm]{Definition}
\newtheorem{eg}[thm]{Example}
\newtheorem{rmk}[thm]{Remark}
\newtheorem{conj}[thm]{Conjecture}

\newcommand{\CC}{\mathbb{C}}
\newcommand{\FF}{\mathbb{F}}
\newcommand{\RR}{\mathbb{R}}
\newcommand{\ZZ}{\mathbb{Z}}
\newcommand{\QQ}{\mathbb{Q}}
\newcommand{\NN}{\mathbb{N}}
\newcommand{\PP}{\mathbb{P}}
\newcommand{\cO}{\mathcal{O}}
\newcommand{\cU}{\mathcal{U}}
\newcommand{\cL}{\mathcal{L}}

\newcommand{\RRpos}{\RR_{>0}}

\DeclareMathOperator{\val}{val}
\DeclareMathOperator{\trop}{trop}
\DeclareMathOperator{\rspan}{row.span}
\DeclareMathOperator{\Sym}{Sym}
\DeclareMathOperator{\Div}{Div}
\DeclareMathOperator{\Eff}{Eff}
\DeclareMathOperator{\Supp}{Supp}
\DeclareMathOperator{\indeg}{indeg}
\DeclareMathOperator{\Pic}{Pic}
\DeclareMathOperator{\Jac}{Jac}
\DeclareMathOperator{\Mat}{Mat}
\DeclareMathOperator{\Arg}{Arg}
%\DeclareMathOperator{\ker}{ker}
\DeclareMathOperator{\coker}{coker}
\DeclareMathOperator{\Capacity}{\textsc{cap}}
\DeclareMathOperator{\coamoeba}{co\mathcal{A}}
\DeclareMathOperator{\PL}{PL}
%%% use either \Delta or Div %%%
\DeclareMathOperator{\Divisor}{\Delta}
\DeclareMathOperator{\zspan}{span}
\DeclareMathOperator{\im}{im}
\DeclareMathOperator{\red}{red}
\DeclareMathOperator{\Br}{Brk}
\DeclareMathOperator{\ev}{ev}
\DeclareMathOperator{\vol}{vol}
\DeclareMathOperator{\coeff}{coeff}

\renewcommand{\Re}{\mathrm{Re}}
\newcommand{\dsp}{\displaystyle}
\newcommand{\pderiv}[1]{\frac{\partial}{\partial{#1}}}
\newcommand{\angles}[1]{\langle {#1} \rangle}
% formal q-analog
\newcommand{\fanalog}[2]{[[#2]]_{#1}}
% non-formal q-analog
\newcommand{\analog}[2]{[#2]_{#1}}


% for comments
\newcommand{\harry}[1]{{\color{red} \sf $\diamondsuit$  {#1} $\diamondsuit$ }}
\newcommand{\note}[1]{\harry{#1}}

\begin{document}
\title[Tutte power series on metric graphs]{Tutte power series and Tutte evaluations on the moduli space of metric graphs}
\author{Harry Richman}
\date{v1, \today  \,(Preliminary draft, not for circulation).}
\thanks{This work was partially supported by NSF grant DMS-1600223
and a Rackham Predoctoral Fellowship.}


\begin{abstract}
We define a way to assign a formal power series to a metric graph with arbitrary
(positive) real edge lengths.
% which is invariant under subdivision of edges.
When all edge lengths are positive integers,
this recovers the usual Tutte polynomial.
We prove that for positive inputs, evaluation of the Tutte power series
defines a continuous function of the moduli space of metric graphs,
which also extends to the compactification by tropical curves.
We study how Tutte power series evaluations are
related to various structures on a metric graph.
\end{abstract}
\maketitle

%\setcounter{tocdepth}{1}
%\tableofcontents

\section{Introduction}
Given a graph $G$,
the Tutte polynomial $T(G;x,y)$ 
is 
%an important graph invariant,
 a two-variable polynomial %ssigned to graph $G$,
introduced by Tutte in \cite{Tut}.
Many important graph invariants arise as evaluations of 
the Tutte polynomial %$T(G; x,y)$ 
at specific (real) parameters $x$, $y$.
For a comprehensive modern overview of the Tutte polynomial see \cite{BO} \cite{EMM}.

The following characterization of the Tutte polynomial was initially introduced by Crapo \cite{Cra}, 
using the  {\em rank generating function} of $G$
(see also: \cite[Definition 3]{EMM}).
Given a connected graph $G $, 
%we can define the Tutte polynomial of $G$ by 
the Tutte polynomial of $G$ is 
\begin{equation}
\label{eq:tutte-graph}
T(G; x,y) = \sum_{A \subset E(G)} (x-1)^{h_0(G\backslash A) - 1}(y-1)^{h_1(G\backslash A)}
\end{equation}
where $G\setminus A$ denotes the graph with edges in $A$ deleted,
and $h_0$ and $h_1$ denote the zeroth and first Betti numbers of 
a topological space.
In graph theoretic terms,
\begin{align*}
h_0(G) &= \#(\text{connected components of }G), \quad\text{and}\\
h_1(G) &= \# E(G) - \# V(G) + h_0(G) .
\end{align*}

The purpose of this paper is to explain that this definition of the Tutte polynomial may be extended meaningfully to a metric graph.
As a consequence, evaluation of the Tutte polynomial (for certain real inputs) extends to a continuous function on the moduli space of metric graphs.

\subsection{Statement of results}
Suppose $\Gamma$ is a metric graph with combinatorial model $\Gamma = (G,\ell)$,
where $\ell : E(G) \to \RR_{>0}$ is a function assigning a 
%positive, real 
length to each edge of $G$.
Given real parameters $x,y$ with $x > 0$,
let 
\begin{equation}
\label{eq:tutte-metric-graph}
T(\Gamma; x,y) = \sum_{A \subset E(G)} \left( \prod_{e_i \in A} [\ell(e_i)]_{x} \right)
(x-1)^{h_0(G\backslash A) - 1}(y-1)^{h_1(G\backslash A)}
\end{equation}
where the notation $[\alpha]_x$ for real $\alpha, x > 0$ means
\begin{equation*}
\label{eq:q-analog-real}
[\alpha]_x = \frac{x^\alpha - 1}{x-1}
\quad\text{if } x \neq 1,
\qquad 
[\alpha]_1 = \alpha.
\end{equation*}
%(If $x < 0$, then the expression $[\alpha]_x$ can be considered a complex-valued function,
%by taking the principal branch of the complex logarithm.)

%\begin{equation}
%\label{eq:tutte-metric-graph}
%T^+(\Gamma; u,w) = \sum_{A \subset E(G)} \left( \prod_{e_i \in A} [\ell(e_i)]_{1+u} \right)
%u^{h_0(G\backslash A) - 1} w^{h_1(G\backslash A)}
%\end{equation}
%where the notation $[\alpha]_{1+u}$ means
%\begin{equation*}
%[\alpha]_{1+u} = \alpha + \binom{\alpha}{2} u + \binom{\alpha}{3} u^2 + \cdots
%\in \RR[[u]] .
%%[\alpha]_{1+u} = \frac{(1+u)^\alpha - 1}{u}
%%\quad\text{if } u \neq 0, \qquad 
%%[\alpha]_1 = \alpha.
%\end{equation*}

For a fixed metric graph $\Gamma$,
the expression \eqref{eq:tutte-metric-graph} defines a function
$\RR_{>0}\times \RR \to \RR$
by associating $(x,y) \mapsto T(\Gamma; x,y)$. 
This function is generally not a polynomial in $x$; %and $y$
moreover,  it does not admit a formal power series expansion in $x$ 
%since $[\ell(e_i)]_x$ is not analytic at $x = 0$ 
if some edge length $\ell(e_i)$ is non-integral.

We can recover a power series expression for $T(\Gamma; x,y)$ by a simple change of variables.
Let
$T^+(\Gamma; u,w) := T(\Gamma; 1 + u, 1 + w) $,
so that
\begin{equation}
\label{eq:tutte-power-series}
T^+(\Gamma; u,w) = \sum_{A \subset E(G)} \left( \prod_{e_i \in A} [\ell(e_i)]_{1+u} \right)
u^{h_0(G\backslash A) - 1}w^{h_1(G\backslash A)} .
\end{equation}
Note that
\[ [\alpha]_{1+u} = \frac{(1+u)^\alpha - 1}{u}
= \sum_{k \geq 1} \binom{\alpha}{k}u^{k-1} 
\qquad \text{for } |u|<1
\]
has a power series expansion in $u$ 
\begin{equation}
[\alpha]_{1+u} = \alpha + \binom{\alpha}{2} u + \binom{\alpha}{3} u^2 + \cdots
\in \RR[[u]] .
\end{equation}
\note{use different notation to distinguish $[a]_{1+u}$ as a power series in variable $u$ 
vs $[a]_{1+u}$ as the real-valued expression $1/u((1+u)^a-1)$}

Our first main result is that the expression \eqref{eq:tutte-power-series} does not depend on which  model $(G,\ell)$ we choose for the metric graph $\Gamma$.
\begin{thm}[Tutte power series]
\label{thm:intro-tutte-series}
Given a metric graph $\Gamma = (G,\ell)$,
the expression $T^+(\Gamma; u,w)$
%the expression 
is a well-defined power series in
$\RR[[u]][w]$;
in particular,
$T^+(\Gamma; u,w)$ does not depend on the choice of model $(G,\ell)$ for $\Gamma$.
\end{thm}

\begin{thm}[Deletion-contraction relation]
\label{thm:deletion-contraction}
Given a metric graph $\Gamma = (G,\ell)$ and an edge $e \in E(G)$,
which is neither a bridge nor a loop,
the Tutte power series satisfies
\begin{equation*}
T^+(\Gamma; u,w) = [\ell(e)]_{1+u} T^+(\Gamma \backslash e; u,w) + T^+(\Gamma / e; u,w).
\end{equation*}
\end{thm}

Our next result concerns the convergence of the Tutte powers series of a fixed metric graph $\Gamma$.
\begin{thm}[Tutte convergence]
\label{thm:tutte-convergence}
Given a metric graph $\Gamma$,
the Tutte power series $T^+(\Gamma;u,w)$ converges when $|u|<1$.
If some edge length $\ell(e)$ is not an integer \note{in a minimal model},
then the radius of convergence in $u$ is equal to $1$.
\end{thm}

Instead of fixing a metric graph $\Gamma$ and varying the parameters $u,w$,
we can instead fix a choice of $(u,w)$ and vary the metric graph.
As $\Gamma$ varies, the value of $T^+(\Gamma;u,w)$ also varies continuously.

Let $\mathcal M_g$ denote the moduli space of metric graphs of genus $g$.
\begin{thm}[Continuity of Tutte evaluation]
\label{thm:tutte-eval-moduli}
Let $u$ and $w$ be fixed (nonnegative?) real numbers,
with $u > -1$.
The Tutte evaluation at $(u,w)$,
%on the moduli space of metric graphs (of genus $g$),
$$ \ev^+(u,w) : \Gamma \,\mapsto\, T^+(\Gamma; u,w) ,$$
defines a continuous function  
${\rm ev}^+(u,w) : \mathcal M_g \to \RR$.

Namely, 
\begin{enumerate}
\item 
(Continuity on cells)
for each combinatorial graph $G$,
the Tutte evaluation 
${\rm ev}(u,w) $ 
restricts to a continuous function
$$ {\rm ev}(u,w) : \RRpos^{E(G)} \to \RR,$$ 
where a point in the domain $ \in \RR_{>0}^{E(G)}$
represents a choice of (positive, real) edge lengths  $\ell : E(G) \to \RR_{>0}$.

\item 
(Continuity between cells)
If $u > -1$, then as the length of a  non-loop edge $e \in E(G)$ approaches zero
in the metric graph $\Gamma = (G,\ell)$
while other edge lengths are fixed,
the value of 
%the Tutte evaluation 
${\rm ev}(u,w)$
at $(G,\ell)$ %$\Gamma $ 
approaches the value of ${\rm ev}(u,w)$ at the contraction 
$\Gamma / e = (G / e, \ell \big|_{E\setminus e})$.
\end{enumerate}
\end{thm}

\begin{eg}
[$x = 1$, $y=1$]
The Tutte evaluation ${\rm ev}(1,1)$ 
on a graph $G$ gives the number of spanning trees.
On a metric graph, $\ev(1,1)$ gives the volume of the Jacobian of
$\Gamma = (G,\ell)$,
which can be expressed as a weighted sum of spanning trees of $G$ \note{[cite a reference]}.
The function $\ev(1,1)$ is continuous on $\mathcal M_g$, 
and extends continuously to $\overline{\mathcal M}_g$ 
(where it has value zero on the boundary).
\end{eg}
\begin{eg}
[$x = 0$, $y=2$]
The Tutte evaluation ${\rm ev}(0,2)$ 
on $\Gamma = (G,\ell)$ gives the number of totally cyclic orientations of $\Gamma$.
This number does not depend on the edge lengths of $\Gamma$;
i.e. $\ev(0,2)$
 is constant on metric graphs %$\Gamma = (G,\ell)$ 
of a fixed combinatorial model $G$.
However, ${\rm ev}(0,2)$ is not continuous as some edge length approaches $0$.
Namely, the value of $T(G; 0, 2)$ generally differs from the value of $T(G/e; 0,2)$
on the contraction.
\end{eg}

\note{Maybe remove this theorem}
\begin{thm}[Continuity of Tutte coefficient]
For fixed indices $i,j\geq 0$,
let $\coeff(i,j; \Gamma)$
denote the coefficient of $u^i w^j$ in the power series expansion of $T^+(\Gamma; u,w)$.
Then the function ${\rm coeff}(i,j)$
defines a continuous(?) 
function $\mathcal M_g \to \RR$.
\note{extra assumptions needed?}
\end{thm}

\subsection{Previous work} 

Several authors have investigated the behavior of the Tutte polynomial under the operation of subdividing an edge into multiple edges.

Read and Whitehead \cite{RW2}

Brylawski \cite{Bry}

\cite{Tra1,Tra2,Tra3}

\cite{RW1,RW2}

Multivariate Tutte polynomial \cite{Sok-potts}
also known as the {\em Potts-model partition function}.
Sokal \cite{Sok-potts} asks:
\begin{displayquote}
Let me conclude by observing that numerous specific evaluations of the Tutte polynomial have been given combinatorial interpretations, 
as counting some set of objects associated to the graphs $G$. 
It would be an interesting project to seek to extend these counting problems to ``counting with weights,''
i.e., to obtain suitably defined univariate or multivariate generating polynomials for the objects in question as specializations of 
$Z_G(q,v)$ or $Z_G(q,\mathbf{v})$, respectively.
\end{displayquote}
Zeros of Tutte polynomials?

\subsection{Notation}

$\Gamma$ a compact metric graph

$G$ a finite graph, 
loops and parallel edges allowed,
possibly disconnected

$E(G)$ edge set of $G$

$V(G)$ vertex set of $G$

$(G,\ell)$ a combinatorial model for a metric graph,
where 
%$G$ is a combinatorial graph and 

$\ell : E(G) \to \RR_{>0}$
is a length function on edges of $G$

$T(G; x,y)$ the Tutte polynomial of $G$

$T^+(G; u,w) = T(G; 1+u,1+w)$ ``additive'' centered Tutte polynomial

$T^+(\Gamma; u,w)$ the Tutte power series of $\Gamma$

% $D_N$ a divisor of degree $N$


% $\mu = \mu_\Gamma$ the canonical measure on a metric graph $\Gamma$

\section{Background}

\subsection{$q$-analogs}
For a positive integer $\ell$,
the {\em $q$-analog}
$[\ell]_q$ is defined as
the polynomial
\begin{equation*}
[\ell]_q = \frac{q^\ell - 1}{q - 1}
%= \frac{1 - q^\ell }{1 - q} 
= 1 + q + q^2 + \cdots + q^{\ell -1} 
\in \ZZ[q].
\end{equation*}
%When $\ell$ is not a positive integer, the above expression is no longer a polynomial.
When $\ell$ is not an integer, 
%the above expression is not even has 
$[\ell]_q$ does not admit a Laurent expansion in the variable $q$.
However, we can obtain a well-defined power series under a change of variable.
Namely, note that
\[ [\alpha]_{1+u} = \frac{(1+u)^\alpha - 1}{u}
= \sum_{k \geq 0} \binom{\alpha}{k+1}u^{k} 
\]
so we have 
\begin{equation}
[\alpha]_{1+u} = \alpha + \binom{\alpha}{2} u + \binom{\alpha}{3} u^2 + \cdots
\in \RR[[u]] .
\end{equation}
Here $\alpha$ can be any real number, and
\begin{equation}
\binom{\alpha}{k} = \frac{\alpha (\alpha-1) \cdots (\alpha-k+1)}{k!} 
\end{equation}

$\fanalog{q}{\alpha}$
$\analog{q}{\alpha}$
$[\![\alpha]\!]_q$

\begin{prop}
\hfill
\begin{enumerate}
\item 
For positive integers $n,m$ we have
\begin{equation*}
[n + m]_q 
%=  [n ]_q + q^{n} [m]_q
 = [n]_q + [m]_q + (q-1) [n]_q [m]_q .
%[a + b]_q = [a]_q + q^a [b]_q = [a]_q + [b]_q + (q-1) [a]_q [b]_q .
\end{equation*}

\item 
For positive real numbers $\alpha,\beta$, we have
\begin{align*}
[\alpha + \beta]_{1+u} 
%&=  [\alpha]_{1+u} + (1+u)^{\alpha} [\beta]_{1+u} \\
 &= [\alpha]_{1+u} + [\beta]_{1+u} + u [\alpha]_{1+u} [\beta]_{1+u}.
\end{align*}
\end{enumerate}
\end{prop}
\begin{proof}
Observe that
\begin{align*}
[\alpha + \beta]_{1+u} &= \frac{(1+u)^{\alpha+\beta}-1}{u} \\
&= \frac{(1+u)^{\alpha+\beta}-(1+u)^\alpha}{u} + \frac{(1+u)^{\alpha}-1}{u} \\
&= (1+u)^\alpha [\beta]_{1+u} + [\alpha]_{1+u} \\
&= \left(u \frac{(1+u)^\alpha - 1}{u} + 1\right) [\beta]_{1+u} + [\alpha]_{1+u}  \\
&= u [\alpha]_{1+u} [\beta]_{1+u} + [\beta]_{1+u} + [\alpha]_{1+u} .
\end{align*}
\end{proof}

Note that the $q$-analog satisfies the following properties
\begin{enumerate}
\item If $q_0>0$ is fixed and $q_0 \neq 1$, the map 
$$\ell \mapsto [\ell]_{q_0} = \frac{q_0^\ell - 1}{q_0 - 1}$$
defines a continuous function from $\RR$ to $\RR$,
which sends $1 \mapsto 1$ and $0 \mapsto 0$.

If $q_0 = 1$,
we use the convention that $[\ell]_1 = \ell$.

If $q_0 = 0$,
we have $[\ell]_0 = 1$ for any $\ell > 0$.
%\item As $q_0$ approaches $0$ from the right,
%we have
%$$ \lim_{q \to 0^+} \frac{q_0^\ell - 1}{q_0 - 1} = \begin{cases}
%1 &\text{if } \ell > 0, \\
%0 &\text{if } \ell = 0, \\
%-\infty &\text{if } \ell < 0.
%\end{cases} $$

\item If $\ell_0\geq 0$ is fixed and $q > 0$,
the map 
$$q \mapsto [\ell_0]_q = \frac{q^{\ell_0} - 1}{q - 1}$$
defines a continuous function from $\RR_{>0} \setminus\{1\}$ to $\RR$,
which satsifies
$$ \lim_{q \to 0^+} [\ell_0]_q  = 
\lim_{q \to 0^+} \frac{q^{\ell_0} - 1}{q - 1} =
\begin{cases}
 1 &\text{if } \ell_0 > 0 \\
 0 &\text{if } \ell_0 = 0 \\
 -\infty &\text{if } \ell_0 <0.
\end{cases}$$
and has a continuous extension to $\RR_{>0} \to \RR$ that sends $1 \mapsto \ell_0$.

\item 
In particular, for $\ell, q > 0$ we have
$$
[\ell]_0 = 1 
\qquad\text{and}\qquad
[0]_q = 0.
$$
$$
\lim_{\ell \to 0} [\ell]_0 = 1 
\qquad\text{and}\qquad
\lim_{q \to 0} [0]_q = 0.
$$
\end{enumerate}

Considering $[\alpha]_{1+u}$ as a power series in $u$ and $\alpha$:
\begin{align*}
[\alpha]_{1+u} &= \sum_{k\geq 0} \binom{\alpha}{k+1}u^k  
= \sum_{k\geq 0} \frac1{(k+1)!} \alpha^{\underline{k+1}} u^k \\
&= \sum_{k\geq 0} \left( \sum_{j \geq 0} \frac{s(k+1,j)}{(k+1)!} \alpha^j \right) u^k \\
&= (\alpha) + (-\frac12\alpha + \frac12 \alpha^2)u + (\frac13\alpha - \frac12 \alpha^2 + \frac16 \alpha^3)u^2 + \cdots \\
\end{align*}
where $(x)_k = x(x-1)(x-2)\cdots(x-k+1)$ denotes the falling factorial and $s(k,j)$ denotes the Stirling number of the first kind.
\begin{align*}
[\alpha]_{1+u} &= \frac{(1+u)^\alpha - 1}{u}
= \frac{\exp(\alpha \log(1+u)) - 1}{u} \\
&= \frac1{u} \left( -1 + \sum_{j\geq 0} \frac{\log(1+u)^j}{j!} \alpha^j\right) \\
&= \sum_{j\geq 1} \frac{\log(1+u)^j}{j! \, u} \alpha^j .
\end{align*}

\begin{equation*}
T(\Gamma; 1+u,1+w) = \sum_{A \subset E(G)} \left( \prod_{e_i \in A} [\ell(e_i)]_{1+u} \right)
u^{h_0(G\backslash A) - 1}w^{h_1(G\backslash A)}
\end{equation*}
For a fixed metric graph $\Gamma = (G,\ell)$, the Tutte power series is an element of 
$\RR[[u]][w]$.

This function satisfies the deletion-contraction relation
\begin{equation*}
T(\Gamma; x,y) = [\ell(e)]_x \cdot T(\Gamma \backslash e; x,y) + T(\Gamma / e; x,y) .
\end{equation*}
\begin{align*}
T^+({\Gamma};u,w) &= 
%\begin{gathered}
[\ell(e)]_{1+u} \cdot T^+(\Gamma \backslash e; u,w) 
 + T^+(\Gamma / e; u,w) .
%\end{gathered}
\end{align*}

\subsection{Graph theory}
\begin{align*}
h_0(G| A) - 1 &= rk(G) - rk(A), \quad\text{and}\\
h_1(G| A) &= \#(A) - rk(A) .
\end{align*}


\subsection{Tutte polynomial}

\section{Metric graphs}
A metric graph is a compact, connected metric space which comes from 
assigning edge lengths to a finite, connected graph.
If the metric graph $\Gamma$
comes from a combinatorial graph $G$ by 
assigning edge lengths $\ell : E(G) \to \RR_{>0}$,
we say $(G,\ell)$ is a {\em combinatorial model} for $\Gamma$
and we write $\Gamma = (G,\ell)$.
%(A single metric graph generally has many different combinatorial models.)


\subsection{Moduli spaces of metric graphs}
See Melody Chan \cite{Cha}.

\cite{ACP}

\note{is it natural here to restrict to stable graphs, or have infinitely many graphs per genus?}

\subsection{Tropical curves}

Here we use ``tropical curve'' 
to refer to a metric graph which possibly has contracted loops,
which we think of as ``infinitesimally small'' loops attached to a vertex.
We record the number of 


\section{Tutte power series}
The polynomial $T(G; x,y)$ can also be defined inductively by the 
deletion-contraction relation:
\begin{equation*}
T(G;x,y) = T(G \backslash e; x,y) + T(G / e; x,y).
\end{equation*}
along with the base cases for a loop edge and bridge edge.
\begin{equation*}
T(G; x,y) = x^i y^j \qquad\text{if $G$ consists of $i$ bridges and $j$ loops.}
\end{equation*}
\begin{equation*}
T(G;x,y) = \begin{cases}
x & \text{if $G$ is a bridge} \\
y & \text{if $G$ is a loop}.
\end{cases}
\end{equation*}
The Tutte power series $T^+(\Gamma; u,w)$ satsifies a similar deletion-contraction relation:
\begin{equation}
T^+(\Gamma; u,w) = [\ell(e)]_{1+u} T^+(\Gamma \backslash e; u,w) + T^+(\Gamma / e; u,w) .
\end{equation}

Check compatibility:
\begin{align*}
T(\text{bridge}; x,y) 
&= (x-1)^{\tilde h_0(\text{bridge}) }(y-1)^{h_1(\text{bridge} )} 
+ (x-1)^{\tilde h_0(\text{two pts.}) }(y-1)^{h_1(\text{two pts.})}  \\
&= 1 + (x-1) = x ;
\end{align*}
\begin{align*}
T(\text{loop}; x,y) 
&= (x-1)^{\tilde h_0(\text{loop}) }(y-1)^{h_1(\text{loop} )} 
+ (x-1)^{\tilde h_0(\text{one pt.}) }(y-1)^{h_1(\text{one pt.})} \\
&= (y-1) + 1 = y .
\end{align*}

\begin{eg}[Tutte power series of a line]
Suppose $\Gamma$ is a segment of length $\alpha$,
then
$$
T^+(\Gamma;u,w) 
= [\alpha]_{1+u} u + 1 
= (1+u)^\alpha
$$
The power series expansion is
$$
T^+(\Gamma;u,w) = \sum_{k=0}^\infty \binom{\alpha}{k} u^k
= 1 + \alpha u + \binom{\alpha}{2}u^2 + \cdots .
$$

If $G$ is a line graph consisting of $n$ edges,
then
$$
T(G;x,y) = x^n 
\qquad\text{and}\qquad 
T^+(G;u,w) = (1+u)^n = 1 + nu + \binom{n}{2}u^2 + \cdots + u^n.
$$
\end{eg}

\begin{eg}[Tutte power series of a circle]
If $\Gamma$ is a circle of length $\lambda$, then 
$$
T^+(\Gamma;u,w) = [\lambda]_{1+u}  + w =  \frac{(1 + u)^\lambda - 1}{u} + w
$$
which has power series expansion
$$
T^+(\Gamma;u,w) = \sum_{k=0}^\infty \binom{\lambda}{k+1} u^{k} + w
$$

Suppose $G$ is a cycle graph consisting of $n$ edges.
Then
$$
T(G;x,y) = x + x^2 + \cdots + x^{n-2} + x^{n-1} + y 
= \frac{x^n - 1}{x - 1} + y - 1.
$$
and
$$
T^+(G;u,w) = n + \binom{n}{2}u + \binom{n}{3} u^2 + \cdots + nu^{n-2} + u^{n-1} + w
= \frac{(1+u)^n-1}{u} + w
$$
\end{eg}

\begin{eg}[Tutte power series of theta graph]
Suppose $G$ is the graph with two vertices connected by three edges.
Suppose $\Gamma$ is the metric graph which assigns lengths $a,b,c$ to the edges of $G$.
Then
\begin{multline*}
T^+(G;u,w) = ( [a]_{1+u} [b]_{1+u} + [a]_{1+u} [c]_{1+u} + [b]_{1+u} [c]_{1+u} ) \\
+ ( [a]_{1+u} [b]_{1+u} [c]_{1+u} ) u 
+ ([a]_{1+u} + [b]_{1+u} + [c]_{1+u}) w + w^2 .
\end{multline*}

Using deletion-contraction, we also deduce
\begin{align*}
T^+(G;u,w) &= [a]_{1+u} T^+(\text{circle of length }b+c) \\
&\qquad\quad + T^+(\text{circle of length }b)T^+(\text{circle of length }c) \\
&= [a]_{1+u} ([b+c]_{1+u} + w)
+ ([b]_{1+u} + w) ([c]_{1+u} + w) \\
&= ([a]_{1+u} [b+c]_{1+u} + [b]_{1+u}[c]_{1+u} ) + 
([a]_{1+u} + [b]_{1+u} + [c]_{1+u}) w + w^2 .
\end{align*}
Note that at $w = 0$, we have
\begin{align*}
T^+(G;u,0) &= [a]_{1+u} [b+c]_{1+u} + [b]_{1+u}[c]_{1+u} \\
&= \sum_{k\geq 0}\binom{a}{k+1}u^k \sum_{k\geq 0} \binom{b+c}{k+1}u^k + \sum_{k\geq 0}\binom{b}{k+1}u^k \sum_{k\geq 0}\binom{c}{k+1}u^k \\
&= \left( a + \binom{a}{2}u + \cdots\right) \left(b + c + \binom{b+c}{2} u + \cdots\right) + \left(b + \binom{b}{2}u + \cdots\right) \left(c + \binom{c}{2}u + \cdots\right) \\
&= (ab + ac + bc) + \left(a\binom{b+c}{2} + \binom{a}{2}(b+c) + b\binom{c}{2} + \binom{b}{2} c \right)u + () u^2 + \cdots  \\
&= (ab + ac + bc) + \frac12 \left(a(b+c)(a+b+c-2) + bc(b+c-2) \right)u + \cdots \\
&= (ab + ac + bc) + \frac12 \left(a^2b + a^2c +ab^2 +ac^2 + b^2c + bc^2 + 2abc-2ab - 2ac - 2bc \right)u + \cdots \\
&= (ab + ac + bc) + \left(abc + \frac12 (a^2b + ab^2 + a^2c + ac^2 + b^2 c + bc^2) - ab - ac - bc \right)u + \cdots
\end{align*}
\begin{align*}
T^+(G;u,0) &= [a]_{1+u} [b+c]_{1+u} + [b]_{1+u}[c]_{1+u} \\
&= [a]_{1+u} \left([b]_{1+u} + [c]_{1+u} + u[b]_{1+u} [c]_{1+u} \right) + [b]_{1+u} [c]_{1+u} \\
&= [a][b] + [a][c] + [b][c] + u[a][b][c] .
\end{align*}

\end{eg}

\begin{eg}[Tutte power series of $K_4$]
Suppose $G = K_4$, the complete graph on four vertices.
Suppose $\Gamma$ is the metric graph assigning edge lengths $a,b,c,d,e,f$ to $G$, as shown in Figure \note{[fill in]}.

Then we have
\begin{align*}
T^+(\Gamma;u,w) &= ([a][b][d] + [a][b][e] + [a][b][f] + [a][c][d] + [a][c][e] + [a][c][f] + [a][d][e] + [a][d][f] \\
&\qquad\quad + [b][c][d] + [b][c][e] + [b][c][f] + [b][d][e] + [b][e][f] + [c][d][f] + [c][e][f] + [d][e][f]) \\
&\quad + ([a][b][c][d] + [a][b][c][e] + [a][b][c][f] + [a][b][d][e] + [a][b][d][f] + [a][b][e][f] \\
&\qquad\quad + [a][c][d][e] + [a][c][d][f] + [a][c][e][f] + [a][d][e][f] + [b][c][d][e] \\
&\qquad\quad + [b][c][d][f] + [b][c][e][f] + [b][d][e][f] + [c][d][e][f] )u \\
&\quad + ([a][b][c][d][e] + [a][b][c][d][f] + [a][b][c][e][f] + [a][b][d][e][f] \\
&\qquad\quad + [a][c][d][e][f] + [b][c][d][e][f])u^2 \\
&\quad + [a][b][c][d][e][f]u^3 \\
&\quad + ([a][b] + [a][c] + [a][d] + [a][e] + [a][f] + [b][c] + [b][d] + [b][e] \\
&\qquad\quad + [b][f] + [c][d] + [c][e] + [c][f] + [d][e] + [d][f] + [e][f])w \\
&\quad + ([a][b][c] + [a][e][f] + [b][d][f] + [c][d][e])uw \\
&\quad + ([a] + [b] + [c] + [d] + [e] + [f])w^2 %\\&\qquad\quad 
+ w^3
\end{align*}
Compare to the Example in Read--Whitehead \cite[p. 272]{RW2}.
\end{eg}

%\begin{align*}
%T^+(\Gamma;u,w) &= [a]_{1+u}T^+() + T^+() \\
%&= [a]_{1+u} [d]_{1+u} T^+(\text{circle of length }b+c+e+f) \\
%&\qquad\quad + [a]_{1+u} T^+(\text{circle of length }b+c) T^+(\text{circle of length }e+f) \\
%&\qquad\quad + [d]_{1+u} T^+(\text{circle of length }b+f)T^+(\text{circle of length }c+e) \\
%&\qquad\quad + T^+(\text{banana of lengths }b,c,e,f) \\
%&= \sum_{k \geq 0} \binom{a}{k+1}u^k \sum_{k\geq 0} \binom{d}{k+1}u^k \left( \sum_{k\geq 0} \binom{b + c + e + f}{k+1} u^k + w\right) \\
%&\qquad\quad + \sum_{k \geq 0} \binom{a}{k+1}u^k \left( \sum_{k\geq 0} \binom{b+c}{k+1}u^k + w\right) \left(\sum_{k\geq 0} \binom{e+f}{k+1}u^k + w\right) \\
%&\qquad\quad + \sum_{k\geq 0}\binom{d}{k+1}u^k \left(\sum_{k\geq 0} \binom{b+f}{k+1}u^k + w \right) \left(\sum_{k\geq 0}\binom{c+e}{k+1}u^k + w\right) \\
%&\qquad\quad + \\
%&= \cdots \\
%\end{align*}

\subsection{Deleting bridges and contracting loops}
In this section we describe how the definition of Tutte power series $T^+(\Gamma;u,w)$
may be extended to a more general concept of metric graphs.

\begin{dfn}
A {\em genus-weighted metric graph}
$\Gamma = (G,\ell, wt)$
consists of a graph $G = (V,E)$,
a length function $\ell : E \to \RR_{>0}$,
and a genus function
$wt: V \to \ZZ_{\geq 0}$.
\end{dfn}

\begin{itemize}
\item
If $\Gamma = \bigcup_{i=1}^k \Gamma_i$ is a disjoint union of $k$ connected metric graphs $\Gamma_i$,
then 
\begin{align*}
T^+(\bigcup_{i=1}^k \Gamma_i ; u,w) 
&= u^{k-1}\, T^+(\bigvee_{i=1}^k \Gamma_i; u,w) \\
&= u^{k-1}\, \prod_{i=1}^k T^+(\Gamma_i; u,w)  .
\end{align*}

\item
If $\Gamma^{wt} = (G,\ell,wt)$ is a genus-weighted metric graph,
with underlying metric graph $\Gamma^0 = (G,\ell)$,
then
$$
T^+(\Gamma^{wt}; u,w) = w^{wt(G)} \, T^+(\Gamma^0; u,w).
$$
\end{itemize}

\subsection{Proofs}

\begin{proof}[Proof of Theorem~\ref{thm:intro-tutte-series}]
It sufficies to show that the Tutte power series is invariant 
under an edge subdivision.
Suppose $G = (V,E)$ contains the edge $e_0$, which we subdivide into $e_1 \cup e_2$ to obtain the graph $G'$.

By the deletion-contraction relation \note{cite}
we have
$$
T^+(G; u,w) = [a+b]_{1+u} T^+(G\backslash e_0; u,w) + T^+(G/e_0; u,w)
$$
and 
\begin{align*}
T^+(G'; u,w) &= [a]_{1+u} T^+(G\backslash e_1; u,w) + T^+(G/e_1; u,w)\\
&= [a]_{1+u}\left( T^+(G\backslash\{e_1,e_2\}; u,w) + T^+(G \backslash e_1 / e_2; u,w)\right) \\
&\qquad + \left([b]_{1+u} T^+(G/e_1 \backslash e_2; u,w) + T^+(G/\{e_1,e_2\}; u,w) \right)\\
&= ([a]_{1+u} + [b]_{1+u} + u[a]_{1+u}[b]_{1+u}) T^+(G\backslash e_0; u,w) + T^+(G/e; u,w) .
\end{align*}
Therefore. ... 
$$
[a]_{1+u} + [b]_{1+u} + u [a]_{1+u} [b]_{1+u}
$$
Then
\begin{align*}
T^+(G'; u,w) &= \sum_{A \subset E(G')} \left( \prod_{e \in A} [\ell(e)]_{1+u} \right) u^{h_0(G\backslash A)-1} w^{h_1(G\setminus A)}  \\
&= \sum_{A \subset E(G') \setminus\{e_1,e_2\}} \sum_{B \subset \{e_1,e_2\}} 
\end{align*}
Note that
$$
G' \setminus (A \cup \{e_1\}) \simeq G' \setminus (A \cup \{e_2\}) \simeq G \setminus (A \cup \{e_0\})
$$
while
$$
G' \setminus (A \cup \{e_1,e_2\}) \simeq G \setminus (A \cup \{e_0\}) 
$$

\end{proof}

\section{Specializations of the Tutte polynomial}

\subsection{Constants}
For a graph $G = (V,E)$,
\begin{itemize}
\item 
$T^+(G;1,1)=$  the number of subsets of edges;
$T_G(2,2) = 2^{\# E}$.

\item 
$T^+(G;0,0) =$ the number of spanning trees.

\item 
$T^+(G;0,1) =$ the number of spanning subsets of edges.

\item 
$T^+(G;1,0) =$ the number of acyclic subsets of edges.

\item 
$T^+(G;-1,1) =$ the number of totally cyclic orientations.

\item 
$T^+(G;1,-1) =$ the number of acyclic orientations.
\end{itemize}

For a metric graph $\Gamma = (G,\ell)$,
\[ T^+(\Gamma;1,1) = \sum_{A \subset E(G)} \prod_{e_i \in A} [\ell(e_i)]_{2}
= \sum_{A \subset E(G)} \prod_{e_i \in A} (2^{\ell(e_i)} - 1) .\]
\[ = \prod_{e_i \in E(G)} (1 + (2^{\ell(e_i)} - 1))
 = 2^{\sum_i \ell(e_i)}\]
\begin{itemize}
\item 
$T^+(\Gamma;1,1) = 2^{\vol(\Gamma)}$

\item 
$T^+(\Gamma;0,0) = \vol(\Jac(\Gamma))$

\item 
$T^+(\Gamma;0,1) = \sum_{k=0}^g \vol(\Eff^k(\Gamma))$?

\end{itemize}

\begin{eg}
Suppose $\Gamma$ is the theta graph with edge lengths $a$, $b$ and $c$,
\[ {\rm eval}(\Gamma; 2,2) = 2^{a+b+c} .\]

$T(\Gamma; 1,1) = ab + ac + bc$.

$T(\Gamma; 1,2) = 1 + (a + b + c) + (ab + ac + bc)$.

$T(\Gamma; 2,1) = (2^{a+b}  -2\cdot 2^a + 3) + (2^{a+b+c}-2^{a+b} + 2^a - 1)$
$= 2^{a+b+c} - 2^a - 2^b - 2^c + 2$.

$T(\Gamma; 0,2) = 1 + 3 + 3 - 1 = 6$.

$T(\Gamma; 2,0) = 2^{a+b+c} - 2(2^a + 2^b + 2^c) + 6$.
\end{eg}

\begin{eg}
For the theta graph, we have
\begin{align*}
T^+(\Gamma; u,w) &= w^2 + ([a]_{1+u} + [b]_{1+u} + [c]_{1+u})w  \\
&\qquad + ([a]_{1+u} [b]_{1+u} + [a]_{1+u} [c]_{1+u}  + [b]_{1+u} [c]_{1+u}) \\
&\qquad + ([a]_{1+u} [b]_{1+u} [c]_{1+u})u
\end{align*}
$$ {\rm coeff}(0,0; \Gamma) = ab + ac + bc .$$
$$ {\rm coeff}(0,1; \Gamma) = a + b + c .$$
$$ \coeff(0,k; \Gamma) = $$
$$ {\rm coeff}(k,1; \Gamma) = \binom{a}{k+1} + \binom{b}{k+1} + \binom{c}{k+1} .$$
$$ {\rm coeff}(0,2; \Gamma) = 1 .$$

\end{eg}

\subsection{Chromatic polynomial}
At $y=0$ we obtain the chromatic polynomial of a graph:
\begin{equation*}
\chi(G; \lambda) = (-1)^{\#V } (-\lambda)^{h_0(G)} T(G; 1-\lambda,0)
\end{equation*}

\subsection{Flow polynomial}
At $x = 0$ we obtain the flow polynomial of a graph:
\begin{equation*}
F(G; \lambda) = (-1)^{h_1(G)} T(G; 0, 1 - \lambda)
\end{equation*}

\subsection{Reliability polynomial}
The reliability polynomial of a graph satisfies
\begin{equation*}
R(G; p) = (1 - p)^{\# V - h_0(G)} p^{h_1(G)} T(G; 1, \frac1p )
\end{equation*}

\section*{Acknowledgements}
The author would like to thank David Speyer for helpful discussion.


\bibliography{tutte_metric-ref} 
\bibliographystyle{abbrv}

\end{document}